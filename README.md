# âœ‚ï¸ Anime Image Segmentation Tool (äºŒæ¬¡å…ƒå›¾åƒéƒ¨ä½åˆ†å‰²å·¥å…·)

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![YOLO](https://img.shields.io/badge/Model-YOLO-green.svg)
![Tkinter](https://img.shields.io/badge/GUI-Tkinter-orange.svg)
![Platform](https://img.shields.io/badge/Platform-Windows-blue)
![License](https://img.shields.io/badge/license-MIT-lightgrey)

## ğŸš€ ç«‹å³ä¸‹è½½ / Download Now (Windows EXE)

> **ä¸æƒ³é…ç½® Python ç¯å¢ƒï¼Ÿ** ç›´æ¥ä¸‹è½½æ‰“åŒ…å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè§£å‹å³ç”¨ï¼
>
> **Don't want to set up Python?** Download the pre-packaged executable to run immediately!

æœ¬é¡¹ç›®ç›®å‰æä¾›ä¸¤ä¸ªç‰ˆæœ¬ï¼š
1. **Modern Edition (v3.0)**: åŸºäº PyWebView çš„ç°ä»£åŒ–ç•Œé¢ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆã€æ›´æµç•…çš„äº¤äº’ã€‚
2. **Legacy Edition (TK)**: åŸºäº Tkinter çš„ç»å…¸ç‰ˆæœ¬ï¼Œè½»é‡çº§ï¼Œå…¼å®¹æ€§å¼ºã€‚

---

![img](https://github.com/wangyff-code/anime_Image_segmentation/blob/main/example/view.png)

### Modern Edition (v3.0)

- **å…¨æ–° UI è®¾è®¡**: é‡‡ç”¨ç£¨ç ‚ç»ç’ƒè´¨æ„Ÿ (Glassmorphism) ç•Œé¢ï¼Œæ“ä½œç›´è§‚ã€‚
- **å¯è§†åŒ–å‚æ•°**: ä¿®æ”¹è£å‰ªå‚æ•°æ—¶ï¼Œé€šè¿‡åŠ¨ç”»å®æ—¶æ¼”ç¤ºè£å‰ªèŒƒå›´çš„å˜åŒ–ã€‚
- **å®æ—¶é¢„è§ˆ**: å¤„ç†è¿‡ç¨‹ä¸­å®æ—¶å±•ç¤ºè¯†åˆ«åˆ°çš„éƒ¨ä½é¢„è§ˆå›¾ã€‚
- **æ™ºèƒ½æ—¥å¿—**: åº•éƒ¨çŠ¶æ€æ å®æ—¶æ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œæ—¥å¿—ä¿¡æ¯ã€‚

ğŸ“¥ **[ç‚¹å‡»ä¸‹è½½ / Download via Google Drive](https://drive.google.com/file/d/19itiBcay0OSv6va1-d7c-Rhl4cqLi2FG/view?usp=drive_link)**

---

### Legacy Edition (TK)
- **çº¯åŸç”Ÿä½“éªŒ**: æ— éœ€æµè§ˆå™¨å†…æ ¸ä¾èµ–ï¼Œæä½å†…å­˜å ç”¨ã€‚
- **ç¨³å®šå¯é **: ç»è¿‡é•¿æ—¶é—´éªŒè¯çš„ç»å…¸é€»è¾‘ã€‚

ğŸ“¥ **[ç‚¹å‡»ä¸‹è½½ / Download via Google Drive](https://drive.google.com/file/d/1RZLEMv5nYtTNErFrQc_938RjyhiMBUdl/view?usp=drive_link)**

---

> **ä¸€ä¸ªåŸºäº YOLO çš„æœ¬åœ°åŒ– GUI å·¥å…·ï¼Œç”¨äºæ‰¹é‡è¯†åˆ«å¹¶æå–äºŒæ¬¡å…ƒè§’è‰²çš„å¤´éƒ¨ã€èº¯å¹²æˆ–è…¿éƒ¨ã€‚**
>
> **A local GUI tool based on YOLO for batch recognition and extraction of anime character heads, torsos, or legs.**

ä¸“ä¸ºæ•°æ®é›†åˆ¶ä½œã€ç´ ææ”¶é›†å’ŒäºŒæ¬¡å…ƒå›¾åƒå¤„ç†è®¾è®¡ã€‚
Designed for dataset creation, material collection, and anime image processing.

![img](https://github.com/wangyff-code/anime_Image_segmentation/blob/main/example/20260103184447.png)

<details>
<summary>ğŸ‘€ Click to view more examples (ç‚¹å‡»æŸ¥çœ‹æ›´å¤šç¤ºä¾‹)</summary>

![img](https://github.com/wangyff-code/anime_Image_segmentation/blob/main/example/20260103184456.png)
![img](https://github.com/wangyff-code/anime_Image_segmentation/blob/main/example/20260103184501.png)

</details>

---

## âœ¨ ä¸»è¦åŠŸèƒ½ (Features)

*   **ğŸ“º å¯è§†åŒ–æ“ä½œç•Œé¢ / Visual Interface**
    *   åŸºäº Tkinter æ„å»ºï¼Œæ— éœ€ç¼–å†™ä»£ç ï¼Œå°ç™½ä¹Ÿèƒ½è½»æ¾ä¸Šæ‰‹ã€‚
    *   Built with Tkinter. No coding required, easy for beginners.

*   **ğŸ¤– å¼ºå¤§çš„è¯†åˆ«æ¨¡å‹ / Powerful Model**
    *   å†…ç½® YOLO é€»è¾‘ï¼Œæ”¯æŒé«˜ç²¾åº¦çš„äºŒæ¬¡å…ƒè§’è‰²éƒ¨ä½æ£€æµ‹ã€‚
    *   Built-in YOLO logic supporting high-precision detection of anime character parts.

*   **ğŸ“‚ æ‰¹é‡å¤„ç† / Batch Processing**
    *   æ”¯æŒé€’å½’æ‰«ææ–‡ä»¶å¤¹ï¼Œä¿æŒåŸæœ‰çš„ç›®å½•ç»“æ„è¾“å‡ºï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®é›†æ¸…æ´—ã€‚
    *   Supports recursive folder scanning and preserves the original directory structure. Ideal for large-scale dataset cleaning.

*   **ğŸ“ æ™ºèƒ½è¾¹ç¼˜æ‰©å…… / Smart Padding**
    *   æ”¯æŒè‡ªå®šä¹‰**é¡¶éƒ¨ã€åº•éƒ¨ã€å·¦å³**çš„æ‰©å……æ¯”ä¾‹ï¼ˆé»˜è®¤ä¸º 0.2ï¼‰ï¼Œé˜²æ­¢åˆ‡å¤´å»å°¾ï¼Œä¿ç•™å®Œæ•´å‘å‹å’Œè‚¢ä½“ã€‚
    *   Supports custom expansion ratios for **Top, Bottom, and Sides** (default 0.2) to prevent cropping off heads or limbs.

*   **ğŸ·ï¸ çº¯å‡€æ–‡ä»¶åé€»è¾‘ / Clean Filename Logic**
    *   **å•äººå›¾ (Single)**ï¼šç›´æ¥ä¿å­˜ä¸º `æ–‡ä»¶å_åç¼€.jpg`ï¼ˆå¦‚ `image_head.jpg`ï¼‰ã€‚
    *   **å¤šäººå›¾ (Multiple)**ï¼šè‡ªåŠ¨æ·»åŠ åºå·ï¼ˆå¦‚ `image_head_2.jpg`ï¼‰ï¼Œé¿å…æ–‡ä»¶è¦†ç›–ã€‚

*   **ğŸ¯ å¤šéƒ¨ä½æ”¯æŒ / Multi-Part Support**
    *   ä¸€é”®åˆ‡æ¢æå– **å¤´éƒ¨ (Head)**ã€**èº¯å¹² (Torso)** æˆ– **è…¿éƒ¨ (Legs)**ã€‚
    *   One-click switching to extract specific parts.

*   **ğŸ‘€ å®æ—¶é¢„è§ˆ / Real-time Preview**
    *   å¤„ç†è¿‡ç¨‹ä¸­å¯å®æ—¶æŸ¥çœ‹è£å‰ªå‡ºçš„å›¾åƒé¢„è§ˆã€‚
    *   View cropped images instantly during processing.

---

## ğŸ› ï¸ æºç å®‰è£…ä¸ä½¿ç”¨ (Installation from Source)

å¦‚æœæ‚¨æƒ³é€šè¿‡æºç è¿è¡Œæˆ–è¿›è¡Œä¿®æ”¹ï¼Œè¯·å‚è€ƒä»¥ä¸‹æ­¥éª¤ã€‚å¦‚æœæ‚¨å·²ä¸‹è½½ EXEï¼Œè¯·è·³è¿‡æ­¤æ­¥ã€‚
If you want to run from source code or modify it, follow these steps. If you downloaded the EXE, skip this section.

### 1. ç¯å¢ƒå‡†å¤‡ (Prerequisites)

ç¡®ä¿ä½ çš„ç”µè„‘å·²å®‰è£… Python 3.8 æˆ–ä»¥ä¸Šç‰ˆæœ¬ã€‚
Ensure you have Python 3.8 or higher installed.

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/wangyff-code/anime_Image_segmentation.git
cd anime_Image_segmentation

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. æ¨¡å‹å‡†å¤‡ (Model Preparation)

æœ¬å·¥å…·éœ€è¦åŠ è½½è®­ç»ƒå¥½çš„ YOLO æ¨¡å‹æ–‡ä»¶ï¼ˆ`.pt`ï¼‰ã€‚
This tool requires a pre-trained YOLO model file (`.pt`).

*   **Model Download Link (æ¨¡å‹ä¸‹è½½):** [HuggingFace - yolov11m_anime_Image_segmentation](https://huggingface.co/laowanglaowang/yolov11m_anime_Image_segmentation)
*   è¯·ç¡®ä¿å°†ä½ çš„æ¨¡å‹æ–‡ä»¶é‡å‘½åä¸º **`best.pt`**ã€‚
*   å°† `best.pt` æ”¾å…¥modelsã€‚
*   *Please rename the downloaded model to **`best.pt`** and place it in the project models directory.*

### 3. è¿è¡Œç¨‹åº (Run)

```bash
python app_modern.py
```

---

## âš™ï¸ å‚æ•°è¯´æ˜ (Settings)

åœ¨è½¯ä»¶ç•Œé¢ä¸­ï¼Œä½ å¯ä»¥è°ƒæ•´ä»¥ä¸‹å‚æ•°ä»¥è·å¾—æœ€ä½³æ•ˆæœï¼š
Adjust the following parameters in the GUI for best results:

| å‚æ•°åŒºåŸŸ (Area) | é€‰é¡¹ (Option) | è¯´æ˜ (Description) |
| :--- | :--- | :--- |
| **æå–è®¾ç½®**<br>Extraction | å¤´éƒ¨ / èº¯å¹² / è…¿éƒ¨<br>Head / Torso / Legs | é€‰æ‹©ä½ è¦æå–çš„ç›®æ ‡éƒ¨ä½ã€‚<br>Select the target part to extract. |
| **è‡ªå®šä¹‰åç¼€**<br>Suffix | å¦‚ `_head`<br>e.g. `_head` | è¾“å‡ºæ–‡ä»¶çš„åç¼€åã€‚æ”¯æŒè‡ªå®šä¹‰ã€‚<br>Output file suffix. Customizable (e.g., `_face`). |
| **è¾¹ç¼˜æ‰©å……**<br>Padding | é¡¶éƒ¨ (Top) | å‘ä¸Šæ‰©å±•è£å‰ªæ¡†çš„æ¯”ä¾‹ã€‚å»ºè®®è®¾ä¸º `0.2` ä»¥ä¿ç•™å¤´é¡¶å‘é¥°ã€‚<br>Expand upwards. `0.2` is recommended to keep hair accessories. |
| **è¾¹ç¼˜æ‰©å……**<br>Padding | åº•éƒ¨ (Bottom) | å‘ä¸‹æ‰©å±•æ¯”ä¾‹ã€‚æå–å¤´åƒæ—¶å¯é€‚å½“å‡å°ã€‚<br>Expand downwards. Can be reduced for headshots. |
| **è¾¹ç¼˜æ‰©å……**<br>Padding | å·¦å³ (Side) | å‘å·¦å³ä¸¤ä¾§æ‰©å±•çš„æ¯”ä¾‹ã€‚<br>Expand horizontally. |

---

## ğŸ“ ç›®å½•ç»“æ„ (Directory Structure)

```text
anime_Image_segmentation/
â”œâ”€â”€ assets/                 # å­˜æ”¾å‰ç«¯èµ„æº
â”‚   â””â”€â”€ index.html          # æ–°ç‰ˆ UI æ–‡ä»¶
â”œâ”€â”€ models/                 # å­˜æ”¾æ¨¡å‹æ–‡ä»¶
â”‚   â””â”€â”€ best.pt             # YOLO æ¨¡å‹æƒé‡
â”œâ”€â”€ legacy/                 # æ—§ç‰ˆå½’æ¡£
â”‚   â””â”€â”€ app_tk.py           # (åŸç‰ˆ) Tkinter ç‰ˆæœ¬çš„ä¸»ç¨‹åº
â”œâ”€â”€ app_modern.py           # (æ–°ç‰ˆ) PyWebView ç‰ˆæœ¬çš„ä¸»ç¨‹åº (åŸ main.py)
â”œâ”€â”€ requirements.txt        # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ .gitignore              # Git å¿½ç•¥æ–‡ä»¶
```

## ğŸ“š æ•°æ®é›†ä¸æ¨¡å‹æ¥æº (Dataset & Model Source)

*   **Model Weights (æ¨¡å‹æƒé‡):**
    *   [HuggingFace Link](https://huggingface.co/laowanglaowang/yolov11m_anime_Image_segmentation)

*   **Training Dataset (è®­ç»ƒæ•°æ®é›†):**
    *   [HuggingFace Dataset Link](https://huggingface.co/datasets/laowanglaowang/anime_head_body_leg)
    *   åŸºäº `DanbooRegion2020` åç»­åˆè¿›è¡Œäº†æ·»åŠ ã€‚
    *   *Based on `DanbooRegion2020` with subsequent additions.*

## ğŸ“„ å¼€æºåè®® (License)

æœ¬é¡¹ç›®éµå¾ª MIT åè®®å¼€æºã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚é˜… LICENSE æ–‡ä»¶ã€‚
This project is licensed under the MIT License. See the LICENSE file for details.
